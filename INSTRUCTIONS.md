# Инструкция по использованию приложения навигации колледжа

## Что было создано

Приложение для навигации по колледжу с интерактивной SVG картой этажей. При нажатии на кабинет отображается его расписание.

## Структура проекта

### Основные компоненты:

1. **SvgMapView** - кастомный View для отображения SVG карты с интерактивными областями
2. **MainActivity** - главный экран с картой этажа
3. **ScheduleActivity** - экран с расписанием кабинета
4. **RoomRepository** - репозиторий с данными о кабинетах и расписании
5. **SvgMapHelper** - утилита для создания интерактивных областей

## Как использовать

### Шаг 1: Добавьте SVG файл

1. Поместите ваш SVG файл карты 2 этажа в папку `app/src/main/assets/`
2. Назовите файл `floor2.svg` (или измените название в `MainActivity.kt`, строка 25)

### Шаг 2: Настройте координаты кабинетов

Откройте `MainActivity.kt` и найдите метод `setupRoomAreas()`. 

**Как найти координаты:**

1. Откройте SVG файл в редакторе (Inkscape, Adobe Illustrator, или онлайн редактор)
2. Найдите координаты каждого кабинета в SVG
3. Обновите координаты в методе `setupRoomAreas()`

**Примеры настройки:**

```kotlin
private fun setupRoomAreas() {
    val areas = mutableListOf<RoomArea>()
    
    // Прямоугольный кабинет
    areas.add(SvgMapHelper.createRectArea("room_201", 100f, 150f, 250f, 300f))
    
    // Многоугольный кабинет
    areas.add(SvgMapHelper.createPolygonArea("room_204", floatArrayOf(
        100f, 100f,  // точка 1
        200f, 100f,  // точка 2
        200f, 200f,  // точка 3
        150f, 250f,  // точка 4
        100f, 200f   // точка 5
    )))
    
    svgMapView.setRoomAreas(areas)
}
```

### Шаг 3: Добавьте данные о кабинетах

Откройте `RoomRepository.kt` и добавьте информацию о ваших кабинетах:

```kotlin
addRoom(Room(
    id = "room_201",  // Должен совпадать с roomId в setupRoomAreas()
    number = "201",
    name = "Кабинет информатики",
    floor = 2,
    schedule = listOf(
        ScheduleItem("09:00-10:30", "Программирование", "Иванов И.И.", "ИТ-21"),
        ScheduleItem("10:45-12:15", "Базы данных", "Петров П.П.", "ИТ-22")
    )
))
```

### Шаг 4: Запустите приложение

1. Синхронизируйте проект с Gradle файлами
2. Запустите приложение на эмуляторе или устройстве
3. Нажмите на кабинет на карте для просмотра расписания

## Важные замечания

- **ID кабинетов должны совпадать**: `roomId` в `setupRoomAreas()` должен совпадать с `id` в `RoomRepository`
- **Координаты**: Координаты в SVG обычно начинаются с (0, 0) в левом верхнем углу
- **Тестирование**: После настройки координат запустите приложение и проверьте, что клики работают правильно

## Дополнительные возможности

### Добавление новых этажей

1. Создайте новый SVG файл (например, `floor1.svg`)
2. Добавьте кнопки переключения этажей в UI
3. Загружайте соответствующий SVG файл при переключении

### Загрузка данных из API

Замените `RoomRepository` на загрузку данных из API или базы данных.

### Улучшение UI

- Добавьте анимации при клике на кабинет
- Добавьте поиск кабинетов
- Добавьте фильтры по типу кабинетов

## Зависимости

Проект использует библиотеку **AndroidSVG** для работы с SVG файлами. Она уже добавлена в `build.gradle.kts`.

